<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>ring.logger documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Ring-logger</span> <span class="project-version">0.8.0-SNAPSHOT</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ring</span></div></div></li><li class="depth-2 current"><a href="ring.logger.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>logger</span></div></a></li><li class="depth-3 branch"><a href="ring.logger.compat.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>compat</span></div></a></li><li class="depth-3"><a href="ring.logger.redaction.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>redaction</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="ring.logger.html#var-default-log-fn"><div class="inner"><span>default-log-fn</span></div></a></li><li class="depth-1"><a href="ring.logger.html#var-default-redact-key.3F"><div class="inner"><span>default-redact-key?</span></div></a></li><li class="depth-1"><a href="ring.logger.html#var-default-request-keys"><div class="inner"><span>default-request-keys</span></div></a></li><li class="depth-1"><a href="ring.logger.html#var-make-transform-and-log-fn"><div class="inner"><span>make-transform-and-log-fn</span></div></a></li><li class="depth-1"><a href="ring.logger.html#var-wrap-log-params"><div class="inner"><span>wrap-log-params</span></div></a></li><li class="depth-1"><a href="ring.logger.html#var-wrap-log-request"><div class="inner"><span>wrap-log-request</span></div></a></li><li class="depth-1"><a href="ring.logger.html#var-wrap-with-logger"><div class="inner"><span>wrap-with-logger</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">ring.logger</h1><div class="doc"><pre class="plaintext">Ring middleware that logs information about each request to a given
set of generic logging functions.</pre></div><div class="public anchor" id="var-default-log-fn"><h3>default-log-fn</h3><div class="usage"><code>(default-log-fn {:keys [level throwable message]})</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/nberger/ring-logger/blob/0.8.x/src/ring/logger.clj#L8">view source</a></div></div><div class="public anchor" id="var-default-redact-key.3F"><h3>default-redact-key?</h3><div class="usage"></div><div class="doc"><pre class="plaintext">A set of the keys redacted by default
</pre></div><div class="src-link"><a href="https://github.com/nberger/ring-logger/blob/0.8.x/src/ring/logger.clj#L19">view source</a></div></div><div class="public anchor" id="var-default-request-keys"><h3>default-request-keys</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/nberger/ring-logger/blob/0.8.x/src/ring/logger.clj#L16">view source</a></div></div><div class="public anchor" id="var-make-transform-and-log-fn"><h3>make-transform-and-log-fn</h3><div class="usage"><code>(make-transform-and-log-fn transform-fn log-fn)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/nberger/ring-logger/blob/0.8.x/src/ring/logger.clj#L11">view source</a></div></div><div class="public anchor" id="var-wrap-log-params"><h3>wrap-log-params</h3><div class="usage"><code>(wrap-log-params handler)</code><code>(wrap-log-params handler {:keys [log-fn log-level transform-fn request-keys redact-key? redact-value-fn], :or {log-fn default-log-fn, transform-fn identity, log-level :debug, request-keys default-request-keys, redact-key? default-redact-key?, redact-value-fn (constantly "[REDACTED]")}})</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/nberger/ring-logger/blob/0.8.x/src/ring/logger.clj#L23">view source</a></div></div><div class="public anchor" id="var-wrap-log-request"><h3>wrap-log-request</h3><div class="usage"><code>(wrap-log-request handler)</code><code>(wrap-log-request handler {:keys [log-fn log-exceptions? transform-fn request-keys], :or {log-fn default-log-fn, transform-fn identity, log-exceptions? true, request-keys default-request-keys}})</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/nberger/ring-logger/blob/0.8.x/src/ring/logger.clj#L43">view source</a></div></div><div class="public anchor" id="var-wrap-with-logger"><h3>wrap-with-logger</h3><div class="usage"><code>(wrap-with-logger handler options)</code><code>(wrap-with-logger handler)</code></div><div class="doc"><pre class="plaintext">Returns a ring middleware handler that logs request and response details.

Options may include:
  * log-fn: used to do the actual logging. Accepts a map with keys
            [level throwable message]. Defaults to `clojure.tools.logging/log`.
  * transform-fn: transforms a log item before it is passed through to log-fn. Messsage types
            it might need to handle: [:start :params :finish :exception]. It can be
            filter messages by returning nil. Log items are maps with keys:
            [:level :throwable :message].
  * request-keys: Keys from the request that will be logged (unchanged) in addition to the data
            that ring.logger adds like [::type ::ms].
            Defaults to [:request-method :uri :server-name]
  * log-exceptions?: When true, logs exceptions as an :error level message, rethrowing
            the original exception. Defaults to true</pre></div><div class="src-link"><a href="https://github.com/nberger/ring-logger/blob/0.8.x/src/ring/logger.clj#L76">view source</a></div></div></div></body></html>